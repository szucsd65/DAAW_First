doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title= title || "CityEquip - Tarragona"
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css")
    style.
      .hover-lift { transition: all 0.3s ease; }
      .hover-lift:hover { transform: translateY(-8px); box-shadow: 0 15px 35px rgba(0,0,0,0.1); }
      .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
      .stars { color: #ffc107; }

  body
    nav.navbar.navbar-expand-lg.navbar-dark.bg-primary.shadow-sm
      .container
        a.navbar-brand(href="/") CityEquip 
        button.navbar-toggler(type="button", data-bs-toggle="collapse", data-bs-target="#navbarNav")
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.ms-auto
            if user
              li.nav-item.dropdown
                a.nav-link.dropdown-toggle(href="#", role="button", data-bs-toggle="dropdown") Rankings
                ul.dropdown-menu
                  li: a.dropdown-item(href="/topEquipment") Global Top 3
                  li: a.dropdown-item(href="/myRatings") My Ratings
              li.nav-item: a.nav-link(href="/equipments") Facilities
              if user.role === 'admin'
                li.nav-item: a.nav-link(href="/equipments/add") Admin
              li.nav-item: a.nav-link(href="/logout") Logout
            else
              li.nav-item: a.nav-link(href="/login") Login
              li.nav-item: a.nav-link(href="/register") Register

    .container-fluid.py-3
      block content

    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
    script(src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js")
